# Network Config Grep

This package contains a tool called `netcfg-grep` that allows a User to extract (grep)
specific sections of a network configuration file.  The motivating use-case:

       As a member of the networking team, I need a way to compare a network device configuration
       file against a "golden configuration" file.  This _golden-config_ may contain only a selection
       of configuration statements.  That is, I may not want to simply "diff" the actual configuration
       file against a fully formed golden-config but only against a subset of statements.  
       
       As a result, I need to tool to "grep out" the sections that I need so
       that I can make this smarter diff compairson.

Note that the `netcfg-grep` tool does **not** perform the diff as there are many existing tools
that can be used (listed in the References section).

The application of `netcfg-grep` for the above use-case would be as follows:

   1. Run the `netcfg-grep` tool against the actual device configuration file to
   obtain only the sections required for the comparison purpose, file "A".
   
   2. Obtain the device expected configuration, file "B".  File "B" would likely
   be generated by another tool, such as a template-building process.  It is recommended
   that you run the `netcfg-grep` tool again the file "B" so that the outputs are
   properlly prepared for use with any text-diff tool.
   
   3. Using any text-diff tool compare file "A" and file "B" to obtain the specific
   differences.
   

# Installation

This package is not yet available in PyPi.  To install in your local environment:

```shell
pip install netcfg-grep@git+https://github.com/jeremyschulman/netcfg-grep.git
```

# Usage

You will need to create a YAML configuration file that defines the sections of
the configuraiton to filter.  Once created, you can then use `netcfg-grep` to
extract the results from the network configuration file:

```shell
netcfg-grep -c <config-file.yaml> <network-config-file>
```

The output of this command will be the filtered content, which you can redirect
to an output file.

The structure of the `netcfg-grep` configuration file is current a WIP, and will
be documented [here](docs/config.md)


   